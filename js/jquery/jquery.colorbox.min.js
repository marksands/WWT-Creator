/*
	ColorBox v1.2.6 - a full featured, light-weight, customizable lightbox based on jQuery 1.3
	(c) 2009 Jack Moore - www.colorpowered.com - jack@colorpowered.com
	Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*/
(function($){var open,e,settings,callback,mW,mH,lW,lH,iH,iW,index,$related,ssTimeout,$ss,$window,$close,$next,$prev,$current,$title,$modal,$wrap,$lO,$lG,$overlay,$mC,$loaded,$bTC,$bML,$bMR,$bBC;var $loadingTextImage,$loadingText;function IE6Overlay(){$overlay.css({"position":"absolute",width:$window.width(),height:$window.height(),top:$window.scrollTop(),left:$window.scrollLeft()})}function slideshow(){var stop;function start(){$ss.text(settings.slideshowStop).bind("cbox_complete",function(){ssTimeout=setTimeout($.fn.colorbox.next,settings.slideshowSpeed)}).bind("cbox_load",function(){clearTimeout(ssTimeout)}).one("click",function(){stop();$(this).removeClass('hover')});$modal.removeClass("cboxSlideshow_off").addClass("cboxSlideshow_on")}stop=function(){clearTimeout(ssTimeout);$ss.text(settings.slideshowStart).unbind('cbox_complete cbox_load').one("click",function(){start();ssTimeout=setTimeout($.fn.colorbox.next,settings.slideshowSpeed);$(this).removeClass('hover')});$modal.removeClass("cboxSlideshow_on").addClass("cboxSlideshow_off")};if(settings.slideshow&&$related.length>1){if(settings.slideshowAuto){start()}else{stop()}}}function clearInline(){if($("#cboxInlineTemp").length>0){$loaded.children().insertBefore("#cboxInlineTemp");$("#cboxInlineTemp").remove()}}function cbox_key(e){if(e.keyCode==37){e.preventDefault();$prev.click()}else if(e.keyCode==39){e.preventDefault();$next.click()}}function setSize(size,dimension){dimension=dimension=='x'?document.documente.clientWidth:document.documente.clientHeight;return(typeof size=='string')?(size.match(/%/)?(dimension/100)*parseInt(size,10):parseInt(size,10)):size}function isImage(url){return settings.photo?true:url.match(/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(.*))?$/i)}$(function(){$.fn.colorbox.init()});$.fn.colorbox=function(options,custom_callback){if(this.length){this.each(function(){var data=$(this).data("colorbox")?$.extend({},$(this).data("colorbox"),options):$.extend({},$.fn.colorbox.settings,options);$(this).data("colorbox",data).addClass("cboxe")})}else{$(this).data("colorbox",$.extend({},$.fn.colorbox.settings,options))}$(this).unbind("click.colorbox").bind("click.colorbox",function(event){e=this;settings=$(e).data('colorbox');e.blur();callback=custom_callback?custom_callback:false;var rel=settings.rel?settings.rel:e.rel;if(rel&&rel!='nofollow'){$related=$('.cboxe').filter(function(){var relRelated=$(this).data("colorbox").rel?$(this).data("colorbox").rel:this.rel;return(relRelated==rel)});index=$related.index(e);if(index<0){$related=$related.add(e);index=$related.length-1}}else{$related=$(e);index=0}if(!open){$.event.trigger('cbox_open');$close.html(settings.close);$overlay.css({"opacity":settings.opacity}).show();open=true;$.fn.colorbox.position(setSize(settings.initialWidth,'x'),setSize(settings.initialHeight,'y'),0);if($.browser.msie&&$.browser.version<7){$window.bind("resize scroll",IE6Overlay)}}slideshow();$.fn.colorbox.load();if(settings.overlayClose===true){$overlay.css({"cursor":"pointer"}).click($.fn.colorbox.close)}event.preventDefault()});if(options&&options.open){$(this).triggerHandler('click.colorbox')}return this};$.fn.colorbox.e=function(){return e};$.fn.colorbox.init=function(){$window=$(window);$('body').prepend($overlay=$('<div id="cboxOverlay" />').hide(),$modal=$('<div id="colorbox" />'));$wrap=$('<div id="cboxWrapper" />').appendTo($modal).append($('<div/>').append($('<div id="cboxTopLeft"/>'),$bTC=$('<div id="cboxTopCenter"/>'),$('<div id="cboxTopRight"/>')),$bML=$('<div id="cboxMiddleLeft" />'),$mC=$('<div id="cboxContent" />'),$bMR=$('<div id="cboxMiddleRight" />'),$('<div/>').append($('<div id="cboxBottomLeft"/>'),$bBC=$('<div id="cboxBottomCenter"/>'),$('<div id="cboxBottomRight"/>')));$wrap.find("[id]").css({'float':'left'});$mC.append($loadingText=$('<span style="margin-left:40px;">Processing tour data...</span>'),$loadingTextImage=$('<img src="../wp-content/plugins/wwt-creator/css/modal-images/ajax-loader.gif" />'),$loaded=$('<div id="cboxLoadedContent" style="width:0; height:0;" />'),$lO=$('<div id="cboxLoadingOverlay" />'),$lG=$('<div id="cboxLoadingGraphic" />'),$title=$('<div id="cboxTitle" />'),$current=$('<div id="cboxCurrent" />'),$ss=$('<div id="cboxSlideshow" />'),$next=$('<div id="cboxNext" />').click($.fn.colorbox.next),$prev=$('<div id="cboxPrevious" />').click($.fn.colorbox.prev),$close=$('<div id="cboxClose" />').click($.fn.colorbox.close));$mC.children().addClass("hover").mouseover(function(){$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")}).hide();iH=$bTC.height()+$bBC.height()+$mC.outerHeight(true)-$mC.height();iW=$bML.width()+$bMR.width()+$mC.outerWidth(true)-$mC.width();lH=$loaded.outerHeight(true);lW=$loaded.outerWidth(true);$modal.css({"padding-bottom":iH,"padding-right":iW}).hide();$().bind("keydown.cbox_close",function(e){if(e.keyCode==27){e.preventDefault();$close.click()}});$mC.children().removeClass("hover")};$.fn.colorbox.next=function(){index=index<$related.length-1?index+1:0;$.fn.colorbox.load()};$.fn.colorbox.prev=function(){index=index>0?index-1:$related.length-1;$.fn.colorbox.load()};$.fn.colorbox.position=function(mWidth,mHeight,speed,loadedCallback){var winHeight=document.documente.clientHeight;var posTop=winHeight/2-mHeight/2;var posLeft=document.documente.clientWidth/2-mWidth/2;if(mHeight>winHeight){posTop-=(mHeight-winHeight)}if(posTop<0){posTop=0}if(posLeft<0){posLeft=0}posTop+=$window.scrollTop();posLeft+=$window.scrollLeft();mWidth=mWidth-iW;mHeight=mHeight-iH;$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(that){$bTC[0].style.width=$bBC[0].style.width=$mC[0].style.width=that.style.width;$lG[0].style.height=$lO[0].style.height=$mC[0].style.height=$bML[0].style.height=$bMR[0].style.height=that.style.height}var animate_speed=($modal.width()===mWidth&&$modal.height()===mHeight)?0:speed;$modal.dequeue().animate({height:mHeight,width:mWidth,top:posTop,left:posLeft},{duration:animate_speed,complete:function(){modalDimensions(this);$wrap[0].style.width=(mWidth+iW)+"px";$wrap[0].style.height=(mHeight+iH)+"px";if(loadedCallback){loadedCallback()}if($.browser.msie&&$.browser.version<7){IE6Overlay()}},step:function(){modalDimensions(this)}})};$.fn.colorbox.dimensions=function(object){if(!open){return}$window.unbind('resize.cbox_resize');var speed=settings.transition=="none"?0:settings.speed;$loaded.remove();$loaded=$(object);var width;var height;function getWidth(){if(settings.width){width=mW}else{width=mW&&mW<$loaded.width()?mW:$loaded.width()}return width}function getHeight(){if(settings.height){height=mH}else{height=mH&&mH<$loaded.height()?mH:$loaded.height()}return height}$loaded.hide().appendTo('body').attr({id:'cboxLoadedContent'}).css({width:getWidth()}).css({height:getHeight()}).prependTo($mC);$loaded.fadeIn(100);if($.browser.msie&&$.browser.version<7){$('select').not($('#colorbox select')).css({'visibility':'hidden'})}if($('#cboxPhoto').length>0&&settings.height){var topMargin=(height-parseInt($('#cboxPhoto')[0].style.height,10))/2;$('#cboxPhoto').css({marginTop:(topMargin>0?topMargin:0)})}function setPosition(s){var mWidth=width+lW+iW;var mHeight=height+lH+iH;$.fn.colorbox.position(mWidth,mHeight,s,function(){if(!open){return}if($.browser.msie){if($('#cboxPhoto').length>0){$loaded.fadeIn(100)}$modal.css('filter','')}$mC.children().show();$('#cboxIframe').after("<iframe name='iframe_"+new Date().getTime()+"' frameborder=0 src='"+(settings.href?settings.href:e.href)+"' />").remove();$loadingText.hide();$loadingTextImage.hide();$lO.hide();$lG.hide();$ss.hide();if($related.length>1){$current.html(settings.current.replace(/\{current\}/,index+1).replace(/\{total\}/,$related.length));$next.html(settings.next);$prev.html(settings.previous);$().unbind('keydown',cbox_key).one('keydown',cbox_key);if(settings.slideshow){$ss.show()}}else{$current.add($next).add($prev).hide()}$title.html(settings.title?settings.title:e.title);$.event.trigger('cbox_complete');if(callback){callback.call(e)}if(settings.transition==='fade'){$modal.fadeTo(speed,1,function(){if($.browser.msie){$modal.css('filter','')}})}$window.bind('resize.cbox_resize',function(){$.fn.colorbox.position(mWidth,mHeight,0)})})}if(settings.transition=='fade'){$modal.fadeTo(speed,100,function(){setPosition(0)})}else{setPosition(speed)}if(settings.preloading&&$related.length>1){var prev=index>0?$related[index-1]:$related[$related.length-1];var next=index<$related.length-1?$related[index+1]:$related[0];var nextSrc=$(next).data('colorbox').href?$(next).data('colorbox').href:next.href;var prevSrc=$(prev).data('colorbox').href?$(prev).data('colorbox').href:prev.href;if(isImage(nextSrc)){$('<img />').attr('src',nextSrc)}if(isImage(prevSrc)){$('<img />').attr('src',prevSrc)}}};$.fn.colorbox.load=function(){e=$related[index];settings=$(e).data('colorbox');$.event.trigger('cbox_load');$loadingText.show();$loadingTextImage.show();$close.show();clearInline();var height=settings.height?setSize(settings.height,'y')-lH-iH:false;var width=settings.width?setSize(settings.width,'x')-lW-iW:false;if(settings.mH){mH=settings.mH?setSize(settings.mH,'y')-lH-iH:false;height=height&&height<mH?height:mH}if(settings.mW){mW=settings.mW?setSize(settings.mW,'x')-lW-iW:false;width=width&&width<mW?width:mW}mH=height;mW=width;var href=settings.href?settings.href:e.href;if(settings.inline){$('<div id="cboxInlineTemp" />').hide().insertBefore($(href)[0]);$.fn.colorbox.dimensions($(href).wrapAll('<div/>').parent())}else if(settings.iframe){$.fn.colorbox.dimensions($("<div><div id='cboxIframe' /></div>"))}else{var loadinge=new Image();loadinge.onload=function(){loadinge.onload=null;if((mH||mW)&&settings.resize){var width=this.width;var height=this.height;var percent=0;var that=this;var setResize=function(){height+=height*percent;width+=width*percent;that.height=height;that.width=width};if(mW&&width>mW){percent=(mW-width)/width;setResize()}if(mH&&height>mH){percent=(mH-height)/height;setResize()}}$.fn.colorbox.dimensions($("<div />").css({width:this.width,height:this.height}).append($(this).css({width:this.width,height:this.height,display:"block",margin:"auto",border:0}).attr('id','cboxPhoto')));if($related.length>1){$(this).css({cursor:'pointer'}).click($.fn.colorbox.next)}if($.browser.msie&&$.browser.version==7){this.style.msInterpolationMode='bicubic'}};loadinge.src=href}};$.fn.colorbox.close=function(){open=false;clearTimeout(ssTimeout);$window.unbind('resize.cbox_resize');$ss.unbind('cbox_complete cbox_load click');clearInline();$overlay.css({cursor:'auto'}).fadeOut('fast').unbind('click',$.fn.colorbox.close);$().unbind('keydown',cbox_key);if($.browser.msie&&$.browser.version<7){$('select').css({'visibility':'inherit'});$window.unbind('resize scroll',IE6Overlay)}$mC.children().hide();$modal.stop(true,false).removeClass().fadeOut('fast',function(){e.focus();$loaded.remove();$modal.css({'opacity':1});$.event.trigger('cbox_closed')})};$.fn.colorbox.settings={transition:"elastic",speed:350,width:false,height:false,initialWidth:"400",initialHeight:"400",mW:false,mH:false,resize:true,inline:false,iframe:false,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,overlayClose:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow"}})(jQuery);var open,e,settings,callback,mW,mH,lW,lH,iH,iW,index,$related,ssTimeout,$ss,$window,$close,$next,$prev,$current,$title,$modal,$wrap,$lO,$lG,$overlay,$mC,$loaded,$bTC,$bML,$bMR,$bBC;
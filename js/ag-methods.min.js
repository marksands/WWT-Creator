$f=jQuery.noConflict();$s=jQuery.noConflict();function submitTourForm(){document.getElementById('wwt-generate-tour').value='1';document.forms[0].submit()}function convertToDecimal(old){var flag=false;var degrees=(old).replace(/:[^:]+$/,'');var minutes=(old).replace(/^.\d+:/,'');if(/^\d+[.]/.test(minutes)){var seconds=minutes.replace(/^\d+./,'');flag=true}if(/[.]\d+$/.test(minutes)){minutes=minutes.replace(/.\d+$/,'')}if(/^0/.test(minutes)){minutes=minutes.replace(/^0/,'')}var last=0.0;if(flag){last=parseFloat(degrees)+parseFloat(minutes/60)+parseFloat(seconds/360)}else{last=parseFloat(degrees)+parseFloat(minutes/60)}last=Math.round(last)/100;return last}function addPresetGalaxy(){var sel=document.getElementById('messier');var pos=sel.options[sel.selectedIndex].value-1;var raV=messier_catalog[pos].ra;var decV=messier_catalog[pos].dec;raV=convertToDecimal(raV);decV=convertToDecimal(decV);document.getElementById('ra').value=raV;document.getElementById('dec').value=decV}function removeAndHighlight(id){var parent=document.getElementById('add-galaxy-div');var child=document.getElementById('row'+id);parent.removeChild(child)}function removeFormField(id){var child=document.getElementById('row'+id);$s(child).effect("highlight",{color:"#ff0000"},800);setTimeout("removeAndHighlight("+id+")",600)}function addFormField(){var raVal=document.getElementById('ra').value;var decVal=document.getElementById('dec').value;var id=document.getElementById('galaxy-id').value;document.getElementById('ra').value="";document.getElementById('dec').value="";document.getElementById('is_tour').value="1";$f('<div id="row'+id+'" />').appendTo('#add-galaxy-div');$f('<input type="text" id="ra'+id+'" name="ra'+id+'" value="'+raVal+'" />').addClass('wwt-ra').appendTo('#row'+id+'');$f('<input type="text" id="dec'+id+'" name="dec'+id+'" value="'+decVal+'" />').addClass('wwt-dec').appendTo('#row'+id+'');$('<a id="wwt-del-button-id" class="wwt-del-button"><span class="wwt-del">Delete</span></a>').attr({onClick:'removeFormField("'+id+'")'}).appendTo('#row'+id)id=(id-1)+2;$f('#galaxy-id').val(id);$f('#row'+id+'').effect("highlight",{color:"#ffff66"},1500)}